/*!
 * @flowlist/js-core v1.0.0
 * (c) 2020 falstack
 * https://github.com/flowlist/js-core#readme
 */
(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["jsCore"]=t():e["jsCore"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},8875:function(e,t,r){var n,o,i;(function(r,c){o=[],n=c,i="function"===typeof n?n.apply(t,o):n,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(y){var r,n,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,c=/@([^@]*):(\d+):(\d+)\s*$/gi,a=i.exec(y.stack)||c.exec(y.stack),u=a&&a[1]||!1,f=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),s=document.getElementsByTagName("script");u===l&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(f-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=r.replace(n,"$1").trim());for(var p=0;p<s.length;p++){if("interactive"===s[p].readyState)return s[p];if(s[p].src===u)return s[p];if(u===l&&s[p].innerHTML&&s[p].innerHTML.trim()===o)return s[p]}return null}}return e}))},"98b8":function(e,t,r){(function(e){function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function f(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new j(n||[]);return i._invoke=w(e,r,c),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=f;var s="suspendedStart",p="suspendedYield",y="executing",h="completed",E={};function d(){}function v(){}function _(){}var g={};g[c]=function(){return this};var b=Object.getPrototypeOf,m=b&&b(b(A([])));m&&m!==n&&o.call(m,c)&&(g=m);var T=_.prototype=d.prototype=Object.create(g);function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e,r){function n(i,c,a,u){var f=l(e[i],e,c);if("throw"!==f.type){var s=f.arg,p=s.value;return p&&"object"===t(p)&&o.call(p,"__await")?r.resolve(p.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):r.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(f.arg)}var i;function c(e,t){function o(){return new r((function(r,o){n(e,t,r,o)}))}return i=i?i.then(o,o):o()}this._invoke=c}function w(e,t,r){var n=s;return function(o,i){if(n===y)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return x()}r.method=o,r.arg=i;while(1){var c=r.delegate;if(c){var a=P(c,r);if(a){if(a===E)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===s)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=y;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?h:p,u.arg===E)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}function P(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=r,P(e,t),"throw"===t.method))return E;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,E;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,E):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,E)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function A(e){if(e){var t=e[c];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){while(++n<e.length)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:r,done:!0}}return v.prototype=T.constructor=_,_.constructor=v,_[u]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var c=new S(f(t,r,n,o),i);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},O(T),T[u]="Generator",T[c]=function(){return this},T.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return n("end");if(c.tryLoc<=this.prev){var u=o.call(c,"catchLoc"),f=o.call(c,"finallyLoc");if(u&&f){if(this.prev<c.catchLoc)return n(c.catchLoc,!0);if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return n(c.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return n(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,E):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),E}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=r}catch(n){Function("r","regeneratorRuntime = r")(r)}}).call(this,r("62e4")(e))},a34a:function(e,t,r){e.exports=r("98b8")},fb15:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"generateDefaultField",(function(){return E})),r.d(n,"generateFieldName",(function(){return d})),r.d(n,"getObjectDeepValue",(function(){return v})),r.d(n,"updateObjectDeepValue",(function(){return _})),r.d(n,"computeMatchedItemIndex",(function(){return g})),r.d(n,"combineArrayData",(function(){return b})),r.d(n,"isArray",(function(){return m})),r.d(n,"setReactivityField",(function(){return T})),r.d(n,"computeResultLength",(function(){return O})),r.d(n,"generateRequestParams",(function(){return S}));var o={};if(r.r(o),r.d(o,"initState",(function(){return D})),r.d(o,"initData",(function(){return k})),r.d(o,"loadMore",(function(){return N})),r.d(o,"updateState",(function(){return I})),"undefined"!==typeof window){var i=window.document.currentScript,c=r("8875");i=c(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:c});var a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}var u=r("a34a"),f=r.n(u),l={SETTER_TYPE:{RESET:0,MERGE:1},FETCH_TYPE:{PAGINATION:"jump",SINCE_FIRST_OR_END_ID:"sinceId",SCROLL_LOAD_MORE:"page",HAS_LOADED_IDS:"seenIds"},CHANGE_TYPE:{RESET_FIELD:"reset",UPDATE_RESULT:"update",RESULT_ADD_AFTER:"push",RESULT_ADD_BEFORE:"unshift",RESULT_REMOVE_BY_ID:"delete",RESULT_INSERT_TO_BEFORE:"insert-before",RESULT_INSERT_TO_AFTER:"insert-after",RESULT_LIST_MERGE:"patch"},FIELD_DATA:{RESULT_KEY:"result",EXTRA_KEY:"extra"},FETCH_PARAMS_DEFAULT:{CHANGE_KEY_NAME:"id"}};function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(y({},{result:[],noMore:!1,nothing:!1,loading:!1,error:null,extra:null,fetched:!1,page:0,total:0}),e)},d=function(e){var t=e.func,r=e.type,n=e.query,o=void 0===n?{}:n,i="".concat(t,"-").concat(r);return Object.keys(o).filter((function(e){return!~["undefined","object","function"].indexOf(s(o[e]))&&!~["page","is_up","since_id","seen_ids","__refresh__","__reload__"].indexOf(e)})).sort().forEach((function(e){i+="-".concat(e,"-").concat(o[e])})),i},v=function(e,t){if(!t)return e;var r=e,n=m(t)?t:t.split(".");return n.forEach((function(e){r=r[e]})),r},_=function(e,t,r){if(/\./.test(t)){var n=t.split("."),o=n.pop(),i=e;n.forEach((function(e){i=i[e]})),i[o]=r}else e[t]=r},g=function(e,t,r){for(var n=-1,o=0;o<t.length;o++)if(v(t[o],r).toString()===e.toString()){n=o;break}return n},b=function(e,t,r){m(t)?t.forEach((function(t){var n=v(t,r).toString();e.forEach((function(o,i){v(o,r).toString()===n&&(e[i]=y(y({},o),t))}))})):Object.keys(t).forEach((function(n){var o=n.toString();e.forEach((function(i,c){v(i,r).toString()===o&&(e[c]=y(y({},i),t[n]))}))}))},m=function(e){return"[object Array]"===Object.prototype.toString.call(e)},T=function(e,t,r,n,o){n!==l.FETCH_TYPE.PAGINATION?m(r)?e[t]=o?r.concat(e[t]||[]):(e[t]||[]).concat(r):t===l.FIELD_DATA.RESULT_KEY?(m(e[t])&&(e[t]={}),Object.keys(r).forEach((function(n){e[t][n]=e[t][n]?o?r[n].concat(e[t][n]):e[t][n].concat(r[n]):r[n]}))):e[t]=r:e[t]=r},O=function(e){var t=0;return m(e)?t=e.length:Object.keys(e).forEach((function(r){t+=e[r].length})),t},S=function(e){var t=e.field,r=e.uniqueKey,n=e.query,o=e.type,i={};if(t.fetched){var c=r||l.FETCH_PARAMS_DEFAULT.CHANGE_KEY_NAME;o===l.FETCH_TYPE.HAS_LOADED_IDS?i.seen_ids=t.result.map((function(e){return v(e,c)})).join(","):o===l.FETCH_TYPE.SINCE_FIRST_OR_END_ID?(i.since_id=v(t.result[n.is_up?0:t.result.length-1],c),i.is_up=n.is_up?1:0):o===l.FETCH_TYPE.PAGINATION?i.page=n.page:o===l.FETCH_TYPE.SCROLL_LOAD_MORE&&(i.page=t.page+1)}else o===l.FETCH_TYPE.HAS_LOADED_IDS?i.seen_ids="":o===l.FETCH_TYPE.SINCE_FIRST_OR_END_ID?(i.since_id=n.sinceId||(n.is_up?999999999:0),i.is_up=n.is_up?1:0):o===l.FETCH_TYPE.PAGINATION?i.page=n.page||t.page:o===l.FETCH_TYPE.SCROLL_LOAD_MORE&&(i.page=t.page);return y(y({},n),i)},w=function(e){var t=e.getter,r=e.setter,n=e.cache,o=e.data,i=e.fieldName,c=e.type,a=e.fromLocal,u=e.cacheTimeout,f=e.page,s=e.insertBefore;return new Promise((function(e,p){if(a)r({key:i,type:l.SETTER_TYPE.RESET,value:o,callback:function(){e()}});else{var y=t(i);if(y){var h=o.result,E=o.extra;y.nothing=!y.fetched&&0===O(h),y.fetched=!0,y.total=o.total||0,c===l.FETCH_TYPE.PAGINATION?(y.noMore=!1,y.page=+f):(y.noMore=o.no_more||!1,y.page=y.page+1),y.loading=!1,T(y,l.FIELD_DATA.RESULT_KEY,h,c,s),E&&T(y,l.FIELD_DATA.EXTRA_KEY,E,c,s),r({key:i,type:l.SETTER_TYPE.RESET,value:y,callback:function(){u&&!y.nothing&&n.set({key:i,value:y,timeout:u}),e()}})}else p()}}))},P=function(e){var t=e.setter,r=e.fieldName,n=e.error;t({key:r,type:l.SETTER_TYPE.MERGE,value:{error:n,loading:!1}})};function R(e,t,r,n,o,i,c){try{var a=e[i](c),u=a.value}catch(f){return void r(f)}a.done?t(u):Promise.resolve(u).then(n,o)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){R(i,n,o,c,a,"next",e)}function a(e){R(i,n,o,c,a,"throw",e)}c(void 0)}))}}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(e){var t=e.getter,r=e.setter,n=e.func,o=e.type,i=e.query,c=e.opts,a=void 0===c?{}:c;return new Promise((function(e,c){var u=d({func:n,type:o,query:i}),f=t(u);f?c():r({key:u,type:l.SETTER_TYPE.RESET,value:E(a),callback:function(){e()}})}))},k=function(e){var t=e.getter,r=e.setter,n=e.cache,o=e.func,i=e.type,c=e.query,a=e.api,u=e.cacheTimeout,s=e.uniqueKey,p=e.callback;return new Promise((function(e,y){var h=d({func:o,type:i,query:c}),v=t(h),_=!!c.__refresh__,g=!!c.__reload__;if(v&&v.error&&!_)return e();if(v&&v.loading)return e();var b=v&&v.fetched&&!_;if(b)return e();var m,T=S({field:A(A({},v),{},{fetched:!1}),uniqueKey:s,query:c,type:i}),O=!1,R=function(){var c=L(f.a.mark((function c(){var s;return f.a.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(c.prev=0,!u){c.next=12;break}if(m=n.get({key:h}),!m){c.next=7;break}O=!0,c.next=10;break;case 7:return c.next=9,a[o](T);case 9:m=c.sent;case 10:c.next=15;break;case 12:return c.next=14,a[o](T);case 14:m=c.sent;case 15:s=function(){var o=L(f.a.mark((function o(){return f.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,w({getter:t,setter:r,cache:n,data:m,fieldName:h,type:i,fromLocal:O,cacheTimeout:u,page:T.page,insertBefore:!1});case 2:p&&p({params:T,data:m,refresh:_}),e();case 4:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),g?r({key:h,type:l.SETTER_TYPE.RESET,value:E(),callback:s}):s(),c.next=23;break;case 19:c.prev=19,c.t0=c["catch"](0),P({setter:r,fieldName:h,error:c.t0}),y(c.t0);case 23:case"end":return c.stop()}}),c,null,[[0,19]])})));return function(){return c.apply(this,arguments)}}();b||g?R():r({key:h,type:l.SETTER_TYPE.RESET,value:A(A({},E()),{},{loading:!0,error:null}),callback:R})}))},N=function(e){var t=e.getter,r=e.setter,n=e.cache,o=e.query,i=e.type,c=e.func,a=e.api,u=e.cacheTimeout,s=e.uniqueKey,p=e.errorRetry,y=e.callback;return new Promise((function(e,h){var E=d({func:c,type:i,query:o}),v=t(E);if(!v)return e();if(v.loading)return e();if(v.nothing)return e();if(v.noMore&&!p)return e();if(i===l.FETCH_TYPE.PAGINATION&&+o.page===v.page)return e();var _={loading:!0,error:null};i===l.FETCH_TYPE.PAGINATION&&(_.result=[],_.extra=null);var g=S({field:v,uniqueKey:s,query:o,type:i});g._extra=v.extra;var b=function(){var l=L(f.a.mark((function l(){var s;return f.a.wrap((function(f){while(1)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,a[c](g);case 3:return s=f.sent,f.next=6,w({getter:t,setter:r,cache:n,data:s,fieldName:E,type:i,fromLocal:!1,cacheTimeout:u,page:g.page,insertBefore:!!o.is_up});case 6:y&&y({params:g,data:s,refresh:!1}),e(),f.next=14;break;case 10:f.prev=10,f.t0=f["catch"](0),P({setter:r,fieldName:E,error:f.t0}),h(f.t0);case 14:case"end":return f.stop()}}),l,null,[[0,10]])})));return function(){return l.apply(this,arguments)}}();r({key:E,type:l.SETTER_TYPE.MERGE,value:_,callback:b})}))},I=function(e){var t=e.getter,r=e.setter,n=e.cache,o=e.type,i=e.func,c=e.query,a=e.method,u=e.value,f=e.id,s=void 0===f?"":f,p=e.uniqueKey,y=void 0===p?l.FETCH_PARAMS_DEFAULT.CHANGE_KEY_NAME:p,h=e.changeKey,E=void 0===h?l.FIELD_DATA.RESULT_KEY:h,T=e.cacheTimeout;return new Promise((function(e,f){var p=d({func:i,type:o,query:c}),h=t(p);if(h){var S=O(h.result);if(a===l.CHANGE_TYPE.UPDATE_RESULT){var w=g(s,h.result,y);_(h.result[w],E,u)}else if(a===l.CHANGE_TYPE.RESET_FIELD)_(h,E,u);else{var P=v(h,E),R=g(s,P,y);switch(a){case l.CHANGE_TYPE.RESULT_ADD_AFTER:m(u)?P=P.concat(u):P.push(u);break;case l.CHANGE_TYPE.RESULT_ADD_BEFORE:m(u)?P=u.concat(P):P.unshift(u);break;case l.CHANGE_TYPE.RESULT_REMOVE_BY_ID:R>=0&&P.splice(R,1);break;case l.CHANGE_TYPE.RESULT_INSERT_TO_BEFORE:R>=0&&P.splice(R,0,u);break;case l.CHANGE_TYPE.RESULT_INSERT_TO_AFTER:R>=0&&P.splice(R+1,0,u);break;case l.CHANGE_TYPE.RESULT_LIST_MERGE:b(P,u,y);break}h[E]=P}var L=O(h.result);h.total=h.total+L-S,h.nothing=0===L,r({key:p,type:l.SETTER_TYPE.MERGE,value:h,callback:function(){T&&n.set({key:p,value:h,timeout:T}),e()}})}else f()}))};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=Y({utils:n},o);t["default"]=H}})["default"]}));